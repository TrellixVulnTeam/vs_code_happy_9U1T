<!DOCTYPE html>

<!--<%@page contentType="text/html; charset=UTF-8"-->
<!--pageEncoding="UTF-8" import="java.util.*"%>-->
<!--<%@ page language="java" import="java.util.*" contentType="text/html; charset=utf-8" %>-->



<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>showphoto</title>

    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="./vue-js/axios.min.js"></script>

    <!-- import CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">

</head>
<body>







<div id="app">


    <div class="line"></div>
    <el-menu
            :default-active="activeIndex2"
            class="el-menu-demo"
            mode="horizontal"
            @select="handleSelect"
            background-color="#545c64"
            text-color="#fff"
            active-text-color="#ffd04b">
        <el-menu-item index="1">处理中心</el-menu-item>
        <el-submenu index="2">
            <template slot="title">我的工作台</template>
            <el-menu-item index="2-1">选项1</el-menu-item>
            <el-menu-item index="2-2">选项2</el-menu-item>
            <el-menu-item index="2-3">选项3</el-menu-item>
            <el-submenu index="2-4">
                <template slot="title">选项4</template>
                <el-menu-item index="2-4-1">选项1</el-menu-item>
                <el-menu-item index="2-4-2">选项2</el-menu-item>
                <el-menu-item index="2-4-3">选项3</el-menu-item>
            </el-submenu>
        </el-submenu>
        <el-menu-item index="3" disabled>消息中心</el-menu-item>
        <el-menu-item index="4"><a href="https://www.ele.me" target="_blank">订单管理</a></el-menu-item>
    </el-menu>

    <el-carousel :interval="4000" type="card" height="400px">
        <el-carousel-item v-for="item in 6" :key="item">
            <h3 class="medium">{{ item }}</h3>
        </el-carousel-item>
    </el-carousel>


    <el-radio-group v-model="direction">
        <el-radio label="ltr">从左往右开</el-radio>
        <el-radio label="rtl">从右往左开</el-radio>
        <el-radio label="ttb">从上往下开</el-radio>
        <el-radio label="btt">从下往上开</el-radio>
    </el-radio-group>

    <el-button @click="drawer = true" type="primary" style="margin-left: 16px;">
        点我打开
    </el-button>

    <el-drawer
            title="我是标题"
            :visible.sync="drawer"
            :direction="direction"
            :before-close="handleClose">
        <span>我来啦!</span>
    </el-drawer>


    <el-button @click="visible = true">Button</el-button>
    <el-dialog :visible.sync="visible" title="Hello world">
        <p>Try Element</p>
    </el-dialog>



    <div class="demo-image__preview">
        <el-image
                style="width: 100px; height: 100px"
                :src="url"
                :preview-src-list="srcList">
        </el-image>
    </div>

    <div class="block">
        <span class="demonstration">默认</span>
        <el-slider v-model="value1"></el-slider>
    </div>

    <el-progress :text-inside="true" :stroke-width="26" :percentage="70"></el-progress>



    <el-popconfirm
            confirmButtonText='好的'
            cancelButtonText='不用了'
            icon="el-icon-info"
            iconColor="red"
            title="这是一段内容确定删除吗？"
    >
        <el-button slot="reference">删除</el-button>
    </el-popconfirm>



    <el-row>
        <el-col :span="8" v-for="(o, index) in 2" :key="o" :offset="index > 0 ? 2 : 0">
            <el-card :body-style="{ padding: '0px' }">
                <img src="https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png" class="image">
                <div style="padding: 14px;">
                    <span>好吃的汉堡</span>
                    <div class="bottom clearfix">
                        <time class="time">{{ currentDate }}</time>
                        <el-button type="text" class="button">操作按钮</el-button>
                    </div>
                </div>
            </el-card>
        </el-col>
    </el-row>


    <el-upload
            class="upload-demo"
            drag
            action="/upPic"
            multiple>
        <i class="el-icon-upload"></i>
        <div class="el-upload__text">将文件拖到此处，或<em>点击上传</em></div>
        <div class="el-upload__tip" slot="tip">只能上传jpg/png文件，且不超过500kb</div>
    </el-upload>

    <el-row>
        <el-col :span="8" :offset="8">
            <div id="upload">
                <label class="el-form-item__label" style="width: 80px;">上传图片</label>
                <!--elementui的上传图片的upload组件-->
                <el-upload
                        class="upload-demo"
                        :before-upload="beforeupload"
                        drag
                        action="https://jsonplaceholder.typicode.com/posts/"
                        style="margin-left:80px;">
                    <i class="el-icon-upload"></i>
                    <div class="el-upload__text">将文件拖到此处，或<em>点击上传</em></div>
                    <!--<div class="el-upload__tip" slot="tip">只能上传jpg/png文件，且不超过500kb</div>-->
                </el-upload>

                <!--elementui的form组件-->
                <el-form ref="form" :model="form" label-width="80px">
                    <el-form-item label="活动名称">
                        <el-input v-model="form.name" name="names" style="width:360px;"></el-input>
                    </el-form-item>
                    <el-form-item>
                        <el-button type="primary" @click="onSubmit">立即创建</el-button>
                        <el-button>取消</el-button>
                    </el-form-item>
                </el-form>
            </div>
        </el-col>

        <!--展示选中图片的区域-->
        <el-col :span="4" >
            <div style="width:100%;overflow: hidden;margin-left:150px;">
                <img :src="src" alt="" style="width:100%;"/>
            </div>
        </el-col>
    </el-row>


</div>





你好 JSP

<br>






<div id="show">

    {{aa}}

    <img width='937' height='495' src='./uploaded/1585910545398.jpg' alt="123"/>
    {{aa}}


    <el-upload
            :action="action"
            :file-list="modeList"
            :http-request="modeUpload"
    >
        <el-button size="small" type="primary">上传</el-button>
    </el-upload>

    <el-button @click="upload">点击上传文件</el-button>

    <!--                    <img width='937' height='495' src={{pic}} alt="123"/>-->

    <button onclick="myFunction()">点我</button>
    <button @click="bb()">bb</button>
    <button @click="cc()">cc-vue-get</button>

    <button @click="dd()">dd-vue-遍历</button>
</div>
<div id="aa">

</div>
<script>
    function myFunction(){

        document.getElementById("aa").innerHTML="<img width='637' height='195' src='./uploaded/1585910545398.jpg' alt='123'/>";

    }

</script>

<script type="text/javascript">
    new Vue({
        el:'#show',
        data:{
            aa:123,
            pic2:null,
            //pic:'./uploaded/1585910545398.jpg'
            pic:"<img width='937' height='495' src='./uploaded/1585910545398.jpg' alt='123'/>",
            picList:[],
        },

        methods:{
            bb(){
                //document.getElementById("aa").write("<img width='937' height='495' src='./uploaded/1585910545398.jpg' alt='123'/>");
                document.getElementById("aa").innerHTML=this.pic;
                console.log(this.pic);
            },
            cc(){

                let pp;
                pp=axios({
                    //method: 'POST',
                    method: 'GET',
                    //url: this.url,
                    url: '/upPic2',
                    headers: {
                        'Content-Type': 'text/html;charset=utf-8',
                    },


                }).then(function (res) {
                    //JSON.parse(res.data);
                    console.log("data-->",res,res.value);
                    //this.data.pic2=res;


                    // document.getElementById("aa").innerHTML=this.pic2;
                    return res;
                });
                pp.then((v)=>
                {
                    this.pic2=v.data;//解析Promise对象 为json字符串
                    console.log('v-data',v.data);

                });

                console.log("pp--->",pp,'++++',this.pic2);


            },

            dd(){
                this.pic2 = eval('(' + this.pic2 + ')');//将json解析为对象
                for (let key in this.pic2){
                    this.picList.push(this.pic2[key]);//转为数组
                    console.log('遍历--->',this.pic2[key]);
                }

                console.log('aac--->',this.pic2,"---",this.picList);
            }


        }




    })



</script>

</body>
<!-- import Vue before Element -->
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>

<script>
    new Vue({
        el: '#app',
        data:
            {

                form: {//form里面的参数
                    name: ''
                },
                param:"",//表单要提交的参数
                src:"https://afp.alicdn.com/afp-creative/creative/u124884735/14945f2171400c10764ab8f3468470e4.jpg", //展示图片的地址



    visible: false ,
                drawer: false,
                direction: 'rtl',
                url: 'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg',
                srcList: [
                    'https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg',
                    'https://fuss10.elemecdn.com/1/8e/aeffeb4de74e2fde4bd74fc7b4486jpeg.jpeg'
                ],
                value1:0,
                currentDate: new Date(),
                //percentage:"70"

            },


        methods: {

            beforeRemove(file, fileList) {
                //return this.$confirm(`确定移除 ${ file.name }？`);
            },
            //阻止upload的自己上传，进行再操作
            beforeupload(file) {
                console.log("------------->");
                console.log(file);
                //创建临时的路径来展示图片
                var windowURL = window.URL || window.webkitURL;

                this.src=windowURL.createObjectURL(file);
                //重新写一个表单上传的方法
                this.param = new FormData();
                this.param.append('file', file, file.name);
                return false;
            },
            //覆盖默认的上传行为
            httprequest() {

            },
            onSubmit(){//表单提交的事件
                var names = this.form.name;
                //下面append的东西就会到form表单数据的fields中；
                this.param.append('message', names);
                let config = {
                    headers: {
                        'Content-Type': 'multipart/form-data'
                    }
                };
                //然后通过下面的方式把内容通过axios来传到后台
                //下面的this.$reqs 是在主js中通过Vue.prototype.$reqs = axios 来把axios赋给它;
                this.$reqs.post("/upPic", this.param, config).then(function(result) {
                    console.log(result);
                })
            },











            handleClose(done) {
                this.$confirm('确认关闭？')
                    .then(_ => {
                        done();
                    })
                    .catch(_ => {});
            }
        }

    })
</script>



<style>
    .el-carousel__item h3 {
        color: #475669;
        font-size: 14px;
        opacity: 0.75;
        line-height: 200px;
        margin: 0;
    }

    .el-carousel__item:nth-child(2n) {
        background-color: #99a9bf;
    }

    .el-carousel__item:nth-child(2n+1) {
        background-color: #d3dce6;
    }


    .time {
        font-size: 13px;
        color: #999;
    }

    .bottom {
        margin-top: 13px;
        line-height: 12px;
    }

    .button {
        padding: 0;
        float: right;
    }

    .image {
        width: 100%;
        display: block;
    }

    .clearfix:before,
    .clearfix:after {
        display: table;
        content: "";
    }

    .clearfix:after {
        clear: both
    }

</style>


</html>